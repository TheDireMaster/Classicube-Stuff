<!DOCTYPE HTML>
<html>
  <head>
    <title>Hex to image converter online</title>
  </head>
    
  <body>
    <canvas id="myCanvas" width="300" height="150" style="border:1px solid #d3d3d3;">Your browser does not support the HTML5 canvas tag.</canvas>
    <script>
      function getHex(name, url) {
        if (!url) url = window.location.href
        name = name.replace(/[\[\]]/g, '\\$&')
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url)
        if (!results) return null
        if (!results[2]) return ''
        return decodeURIComponent(results[2].replace(/\+/g, ' '))
      }
      // ?hex=HEXCODE
      var hex = getHex('hex')
      var c = document.getElementById("myCanvas")
      var ctx = c.getContext("2d")

      ctx.beginPath()
      ctx.rect(0, 0, 300, 200)
      ctx.fillStyle = `#${hex}`
      ctx.fill()
      
      var d = c.toDataURL("image/png")
      //var w=window.open('about:blank','image from canvas');
      w.document.write("<img src='"+d+"' alt='from canvas'/>")
    </script>
  </body>
</html>
